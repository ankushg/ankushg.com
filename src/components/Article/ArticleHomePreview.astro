---
import { formatDate } from '@utils/formatDate'
import { hrefTo } from '@data/navigation'
import Card from '@components/Card/Card.astro'
import CardCta from '@components/Card/CardCta.astro'
import CardDescription from '@components/Card/CardDescription.astro'
import CardEyebrow from '@components/Card/CardEyebrow.astro'
import CardTitle from '@components/Card/CardTitle.astro'
import Markdown from '@components/Markdown.astro'
import type { ArticleContentItem } from '@content/config'

interface Props {
  article: ArticleContentItem
}

const { article } = Astro.props

const description = article.data.description ?? article.data.excerpt
---

<Card as="article">
  <CardTitle href={hrefTo(article)}>
    {article.data.title}
  </CardTitle>
  <CardEyebrow as="time" dateTime={article.data.date} decorate>
    {formatDate(article.data.date)}
  </CardEyebrow>
  {
    description && (
      <CardDescription>
        <Markdown markdown={description} />
      </CardDescription>
    )
  }
  <CardCta>{article.data.cta}</CardCta>
</Card>
